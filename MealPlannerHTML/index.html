<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Planner Tygodniowy â€“ JadÅ‚ospis Dynamiczny</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="container">
  <h1>ğŸ½ï¸ Planner Dietetyczny</h1>
  <p class="intro">Wybierz dania na kaÅ¼dy dzieÅ„ tygodnia dla <span class="person-michalina"><span class="person-michalina-name">Michalina</span></span> i <span class="person-marcin"><span class="person-marcin-name">Marcin</span></span>.<br>
  Po wyborze wszystkich posiÅ‚kÃ³w, wygeneruj jadÅ‚ospis i automatycznÄ… listÄ™ zakupÃ³w!</p>
  
  <div class="info-box">
    <h3 style="margin-top: 0; color: #2196f3;">ğŸ“Š Cel kaloryczny dzienny</h3>
    <div style="display: flex; gap: 20px; flex-wrap: wrap; margin-top: 15px;">
      <div style="flex: 1; min-width: 200px;">
        <label style="display: block; margin-bottom: 8px;"><strong class="person-michalina"><span class="person-michalina-name">Michalina</span>:</strong></label>
        <select id="caloriesMichalina" onchange="updateCalories()" style="width: 100%; padding: 8px; border: 2px solid #e91e63; border-radius: 5px; font-size: 14px;">
          <option value="1000">1000 kcal</option>
          <option value="1300" selected>1300 kcal</option>
          <option value="1500">1500 kcal</option>
          <option value="1800">1800 kcal</option>
          <option value="2000">2000 kcal</option>
          <option value="2500">2500 kcal</option>
        </select>
      </div>
      <div style="flex: 1; min-width: 200px;">
        <label style="display: block; margin-bottom: 8px;"><strong class="person-marcin"><span class="person-marcin-name">Marcin</span>:</strong></label>
        <select id="caloriesMarcin" onchange="updateCalories()" style="width: 100%; padding: 8px; border: 2px solid #2196f3; border-radius: 5px; font-size: 14px;">
          <option value="1500">1500 kcal</option>
          <option value="2000">2000 kcal</option>
          <option value="2500" selected>2500 kcal</option>
          <option value="3000">3000 kcal</option>
        </select>
      </div>
    </div>
    <small style="color: #666; display: block; margin-top: 10px;">ğŸ’¡ Gramatury skÅ‚adnikÃ³w bÄ™dÄ… automatycznie dostosowane do wybranego celu</small>
  </div>
  
  <div style="background: #f0f7ff; padding: 15px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid #236be8;">
    <h3 style="margin-top: 0; color: #236be8;">ğŸ’Š Suplementacja</h3>
    <p style="margin: 5px 0;"><strong class="person-michalina"><span class="person-michalina-name">Michalina</span>:</strong> Witamina D3+K2 (2000IU), Omega-3, Multiwitamina/probiotyk, Izolat biaÅ‚ka (w razie braku biaÅ‚ka w diecie)</p>
    <p style="margin: 5px 0;"><strong class="person-marcin"><span class="person-marcin-name">Marcin</span>:</strong> Witamina D3 (2000IU), Omega-3, Magnez, Izolat biaÅ‚ka (po biegu)</p>
    <small style="color: #666;">* Suplementacja po konsultacji z lekarzem</small>
  </div>

  <div class="tabs">
    <button class="tab active" onclick="switchTab('planner')">ğŸ“… Planner</button>
    <button class="tab" onclick="switchTab('manage')">âš™ï¸ ZarzÄ…dzaj danymi</button>
  </div>

  <div id="planner-tab" class="tab-content active">
    <div class="meal-count-selector">
      <label>Liczba posiÅ‚kÃ³w dziennie:</label>
      <label><input type="radio" name="mealCount" value="3" checked onchange="updateMealCount()"> 3 posiÅ‚ki (Å›niadanie, obiad, kolacja)</label>
      <label><input type="radio" name="mealCount" value="4" onchange="updateMealCount()"> 4 posiÅ‚ki (+ podwieczorek)</label>
    </div>
    
    <div class="action-buttons">
      <button class="btn-action btn-randomize" onclick="randomizujPlan()">ğŸ² Randomizuj caÅ‚y tydzieÅ„</button>
      <button class="btn-action btn-reset" onclick="resetujPlan()">ğŸ”„ Resetuj do pierwszych daÅ„</button>
      <button class="btn-action btn-save" onclick="zapiszPlan()">ğŸ’¾ Zapisz aktualny plan</button>
      <button class="btn-action btn-load" onclick="toggleSavedPlans()">ğŸ“‚ Wczytaj zapisany plan</button>
    </div>
    
    <div id="savedPlansSection" style="display: none;" class="saved-plans">
      <h3 style="margin-top: 0;">ğŸ“‹ Zapisane plany:</h3>
      <div id="savedPlansList"></div>
    </div>

    <div id="dropdowns"></div>
    <button onclick="generujPlan()">ğŸ“‹ PokaÅ¼ jadÅ‚ospis i listÄ™ zakupÃ³w</button>

    <div id="plan"></div>
    <div id="zakupy"></div>
  </div>

  <div id="manage-tab" class="tab-content">
    <h2>âš™ï¸ ZarzÄ…dzaj bazÄ… daÅ„</h2>
    
    <div style="background: #f0f7ff; padding: 20px; border-radius: 8px; border: 2px solid #2196f3; margin-bottom: 20px;">
      <h3>ğŸ‘¤ Edytuj imiona uÅ¼ytkownikÃ³w</h3>
      <div class="form-group">
        <label>Osoba 1 (aktualnie: <span class="person-michalina-name">Michalina</span>):</label>
        <input type="text" id="namePerson1" placeholder="np. Anna, Kasia, Ewa..." value="Michalina">
      </div>
      <div class="form-group">
        <label>Osoba 2 (aktualnie: <span class="person-marcin-name">Marcin</span>):</label>
        <input type="text" id="namePerson2" placeholder="np. Jan, Piotr, MichaÅ‚..." value="Marcin">
      </div>
      <button onclick="updateNames()" style="width: 100%; background: #2196f3; color: white; padding: 12px; border: none; border-radius: 5px; font-size: 16px; cursor: pointer; font-weight: bold;">âœ… Zapisz imiona</button>
      <small style="color: #666; display: block; margin-top: 10px;">ğŸ’¡ Imiona bÄ™dÄ… widoczne w caÅ‚ej aplikacji: planner, lista zakupÃ³w, eksport</small>
    </div>
    
    <div style="background: #fff; padding: 20px; border-radius: 8px; border: 2px solid #ddd; margin-bottom: 20px;">
      <h3>â• Dodaj nowe danie</h3>
      <div class="form-group">
        <label>Typ posiÅ‚ku:</label>
        <select id="newDishType" style="width: 100%;">
          <option value="Å›niadanie">Åšniadanie</option>
          <option value="obiad">Obiad</option>
          <option value="kolacja">Kolacja</option>
          <option value="podwieczorek">Podwieczorek</option>
        </select>
      </div>
      <div class="form-group">
        <label>Nazwa dania:</label>
        <input type="text" id="newDishName" placeholder="np. Owsianka z owocami">
      </div>
      <div class="form-group">
        <label>Przepis (opcjonalnie):</label>
        <textarea id="newDishRecipe" placeholder="Wpisz przepis krok po kroku..."></textarea>
      </div>
      <div class="form-group">
        <label>Kalorie bazowe (dla Osoba 1 - 1300 kcal):</label>
        <input type="number" id="newDishCalories" placeholder="np. 350" min="0">
        <small style="color: #666; display: block; margin-top: 4px;">ğŸ’¡ Kalorie bÄ™dÄ… automatycznie skalowane wedÅ‚ug wybranego celu kalorycznego</small>
      </div>
      <div class="form-group">
        <label>SkÅ‚adniki (JSON format): [Produkt, gramatura Osoba 1, gramatura Osoba 2]</label>
        <textarea id="newDishIngredients" placeholder="{
  'PÅ‚atki owsiane': [40, 70],
  'Mleko 2%': [120, 200],
  'Banan': [60, 100]
}"></textarea>
      </div>
      <button onclick="addNewDish()" style="width: 100%; background: #28a745; color: white; padding: 12px; border: none; border-radius: 5px; font-size: 16px; cursor: pointer; font-weight: bold;">âœ… Dodaj danie</button>
    </div>

    <h3>ğŸ“‹ Lista wszystkich daÅ„</h3>
    <div id="dishList" class="dish-list"></div>
  </div>
</div>

<script src="data.js"></script>
<script src="script.js"></script>
</body>
</html>
